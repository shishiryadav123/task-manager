{% extends 'myapp/base.html' %}

{% block title %}Home - My Django App{% endblock %}

{% block content %}
<div class="hero">
    <h2>🌟 Welcome to My Task Manager!</h2>
    <p>A super cool app built with Django, HTML, CSS, and JavaScript!</p>
</div>

<div class="task-section">
    <div class="add-task-form">
        <h3>✨ Add New Task</h3>
        <form id="taskForm">
            <div class="form-group">
                <input type="text" id="taskTitle" placeholder="What do you need to do?" required>
            </div>
            <div class="form-group">
                <textarea id="taskDescription" placeholder="Any extra details? (optional)"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">🚀 Add Task</button>
        </form>
    </div>

    <div class="tasks-container">
        <h3>📝 Your Tasks</h3>
        <div id="tasksList" class="tasks-list">
            {% for task in tasks %}
            <div class="task-card" data-id="{{ task.id }}">
                <h4>{{ task.title }}</h4>
                {% if task.description %}
                    <p>{{ task.description }}</p>
                {% endif %}
                <div class="task-meta">
                    <span class="task-status {{ task.completed|yesno:'completed,pending' }}">
                        {{ task.completed|yesno:'✅ Done!,⏳ To Do' }}
                    </span>
                    <span class="task-date">{{ task.created_at|date:'M d, Y' }}</span>
                </div>
            </div>
            {% empty %}
            <p class="no-tasks">🎯 No tasks yet! Add your first task above!</p>
            {% endfor %}
        </div>
    </div>
</div>

<div class="demo-section">
    <h3>🔮 JavaScript Magic Demo</h3>
    <p>Click the button below to load data using AJAX!</p>
    <button id="loadDataBtn" class="btn btn-secondary">✨ Load Data via AJAX</button>
    <div id="ajaxResult" class="ajax-result"></div>
</div>
{% endblock %}